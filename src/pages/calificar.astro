---
import Layout from "../layouts/Layout.astro";
import "../styles/calificar.css";
---
<Layout
    title="AmbiTrack - Calificar"
    description="Reporta incidentes ambientales para revisión interna."
>
    <!-- Fondo con imagen y superposición oscura -->
    <div class="fixed inset-0 -z-10">
        <div class="absolute inset-0 bg-[rgba(0,0,0,0.67)] z-0"></div>
        <img
            src="/pexels-suzyhazelwood-2382325.jpg"
            class="object-cover w-full h-full -z-10 blur-[6px]"
            alt="Fondo"
        />
    </div>

    <!-- Contenido principal centrado -->
    <div class="min-h-screen gap-7 flex flex-col items-center justify-center px-4 py-12 relative z-10">
        <div class="w-full max-w-4xl mx-auto text-center mb-8">
            <h1 class="text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-3">
                Califícanos
            </h1>
            <p class="text-gray-600 dark:text-gray-300 mb-40">
                Tu opinión es muy valiosa para nosotros. Ayúdanos a mejorar calificando tu experiencia.
            </p>
        </div>

        <div class="w-full max-w-4xl space-y-6">
        <div class="w-full bg-transparent dark:bg-transparent p-1">
            <div class="flex flex-col md:flex-row gap-4 mb-6">
                <div class="flex-1">
                    <input 
                        type="text" 
                        id="name" 
                        placeholder="Tu nombre" 
                        class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-all duration-200"
                    />
                </div>
                <div class="flex-1">
                    <select 
                        id="rol" 
                        class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 appearance-none cursor-pointer"
                    >
                        <option value="" class="text-gray-400">Califica tu experiencia</option>
                        <option value="excelente" class="text-yellow-400">⭐⭐⭐⭐⭐ Excelente</option>
                        <option value="bueno" class="text-yellow-400">⭐⭐⭐⭐ Bueno</option>
                        <option value="regular" class="text-yellow-400">⭐⭐⭐ Regular</option>
                        <option value="malo" class="text-yellow-400">⭐⭐ Malo</option>
                        <option value="malisimo" class="text-yellow-400">⭐ Malísimo</option>
                    </select>
                </div>
                <button 
                    onclick="agregarNombre()" 
                    class="px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-medium rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
                >
                    Enviar Calificación
                </button>
            </div>
            <div id="msg" class="text-center text-sm text-gray-500 dark:text-gray-400"></div>
        </div>

        <div class="w-full overflow-hidden rounded-xl shadow-sm backdrop-blur-sm">
            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                <thead class="bg-transparent">
                    <tr>
                        <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">#</th>
                        <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Nombre</th>
                        <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Calificación</th>
                        <th class="px-6 py-4 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Acciones</th>
                    </tr>
                </thead>
                <tbody id="listaNombres" class="bg-transparent divide-y divide-white/10 dark:divide-gray-700">
                    <!-- Las filas se agregarán dinámicamente aquí -->
                </tbody>
            </table>
        </div>
    </div>
</Layout>
<script src="/src/scripts/calificar.js"></script>
<style>
    * {
        margin: 0;
        box-sizing: border-box;
    }
    
    /* Estilos para la tabla */
    table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
    }
    
    th, td {
        padding: 0.75rem 1.5rem;
        text-align: left;
        border-bottom: 1px solid #e5e7eb;
    }
    
    th {
        background-color: #f9fafb;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        font-size: 0.75rem;
    }
    
    /* Estilos para el modo oscuro */
    .dark th {
        background-color: #1f2937;
        color: #f3f4f6;
    }
    
    .dark td {
        border-color: #374151;
    }
    
    /* Estilos para los botones de acción */
    .action-btn {
        padding: 0.5rem 1rem;
        border-radius: 0.375rem;
        font-weight: 500;
        transition: all 0.2s;
        font-size: 0.875rem;
    }
    
    .edit-btn {
        background-color: #3b82f6;
        color: white;
        margin-right: 0.5rem;
    }
    
    .edit-btn:hover {
        background-color: #2563eb;
    }
    
    .delete-btn {
        background-color: #ef4444;
        color: white;
    }
    
    .delete-btn:hover {
        background-color: #dc2626;
    }
    
    /* Efecto hover para las filas de la tabla */
    tbody tr {
        transition: background-color 0.2s;
    }
    
    tbody tr:hover {
        background-color: #f9fafb;
    }
    
    .dark tbody tr:hover {
        background-color: #1f2937;
    }
    
    /* Estilos para el select personalizado */
    select {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
        background-position: right 0.5rem center;
        background-repeat: no-repeat;
        background-size: 1.5em 1.5em;
        padding-right: 2.5rem;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
    }
    
    /* Estilos para el mensaje de validación */
    #msg {
        min-height: 1.25rem;
        margin-top: 0.5rem;
    }
    
    /* Estilos para el fondo con desenfoque */
    .bg-blur {
        backdrop-filter: blur(6px);
    }
    input, select {
        background-color: rgba(255, 255, 255, 0.9) !important;
        border: 1px solid rgba(0, 0, 0, 0.1) !important;
        color: #1f2937 !important;
        backdrop-filter: blur(4px);
    }
    
    .dark input, .dark select {
        background-color: rgba(31, 41, 55, 0.9) !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        color: #f3f4f6 !important;
    }
    
    /* Estilos para la tabla */
    th {
        color: #4b5563 !important;
        font-weight: 500;
    }
    
    td {
        color: #1f2937 !important;
        background-color: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(4px);
    }
    
    .dark th {
        color: #9ca3af !important;
    }
    
    .dark td {
        color: #f3f4f6 !important;
        background-color: rgba(17, 24, 39, 0.3);
    }
    
    /* Efecto hover para las filas */
    tbody tr:hover td {
        background-color: rgba(255, 255, 255, 0.2);
    }
    
    .dark tbody tr:hover td {
        background-color: rgba(17, 24, 39, 0.5);
    }
</style>
